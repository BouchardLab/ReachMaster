
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>ReachMaster User Interface &#8212; ReachMaster alpha documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Data Wrangling and Preprocessing" href="../wrangling_preprocessing/wrangling_preprocessing.html" />
    <link rel="prev" title="Software" href="../software.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-reach_master">
<span id="reachmaster-user-interface"></span><h1>ReachMaster User Interface<a class="headerlink" href="#module-reach_master" title="Permalink to this headline">¶</a></h1>
<p>The primary graphical user interface used to
control and run experiments.</p>
<p class="rubric">Example</p>
<p>From terminal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python reach_master.py
</pre></div>
</div>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<ul class="simple">
<li><p>Create executable</p></li>
<li><p>Automate unit tests</p></li>
</ul>
</div>
<div class="section" id="root-application-window">
<h2>Root Application Window<a class="headerlink" href="#root-application-window" title="Permalink to this headline">¶</a></h2>
<img alt="../../_images/root_application.png" class="align-center" src="../../_images/root_application.png" />
</div>
<div class="section" id="camera-settings">
<h2>Camera Settings<a class="headerlink" href="#camera-settings" title="Permalink to this headline">¶</a></h2>
<img alt="../../_images/camera_settings.png" class="align-center" src="../../_images/camera_settings.png" />
</div>
<div class="section" id="experiment-settings">
<h2>Experiment Settings<a class="headerlink" href="#experiment-settings" title="Permalink to this headline">¶</a></h2>
<img alt="../../_images/experiment_settings.png" class="align-center" src="../../_images/experiment_settings.png" />
<span class="target" id="module-reachmaster.settings.experiment_settings"></span><p>The experiment settings window is opened as a child of the
ReachMaster root application. It allows the user to set any
experiment parameters located on the experiment microcontroller
(e.g., number/size of rewards, trial delays, etc.).</p>
<div class="admonition-todo admonition" id="id2">
<p class="admonition-title">Todo</p>
<ul class="simple">
<li><p>Move protocol type options here?</p></li>
<li><p>Automate unit tests</p></li>
</ul>
</div>
<dl class="class">
<dt id="reachmaster.settings.experiment_settings.ExperimentSettings">
<em class="property">class </em><code class="sig-prename descclassname">reachmaster.settings.experiment_settings.</code><code class="sig-name descname">ExperimentSettings</code><span class="sig-paren">(</span><em class="sig-param">parent</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/settings/experiment_settings.html#ExperimentSettings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.settings.experiment_settings.ExperimentSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>The primary class for the camera settings window.</p>
<dl class="attribute">
<dt id="reachmaster.settings.experiment_settings.ExperimentSettings.config">
<code class="sig-name descname">config</code><a class="headerlink" href="#reachmaster.settings.experiment_settings.ExperimentSettings.config" title="Permalink to this definition">¶</a></dt>
<dd><p>The current configuration settings for the application</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="reachmaster.settings.experiment_settings.ExperimentSettings.lights_on_dur">
<code class="sig-name descname">lights_on_dur</code><a class="headerlink" href="#reachmaster.settings.experiment_settings.ExperimentSettings.lights_on_dur" title="Permalink to this definition">¶</a></dt>
<dd><p>Tkinter StringVar that captures the user-selected duration
(ms) lights should remain on during a trial when <cite>protocol
type</cite> is ‘TRIALS’. If a reach is not detected in under this
duration, the lights will turn off until the next trial is
intitiated.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>instance</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="reachmaster.settings.experiment_settings.ExperimentSettings.lights_off_dur">
<code class="sig-name descname">lights_off_dur</code><a class="headerlink" href="#reachmaster.settings.experiment_settings.ExperimentSettings.lights_off_dur" title="Permalink to this definition">¶</a></dt>
<dd><p>Tkinter StringVar that captures the user-selected duration
(ms) lights should remain off between trials when <cite>prtocol
type</cite> is ‘TRIALS’.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>instance</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="reachmaster.settings.experiment_settings.ExperimentSettings.reward_win_dur">
<code class="sig-name descname">reward_win_dur</code><a class="headerlink" href="#reachmaster.settings.experiment_settings.ExperimentSettings.reward_win_dur" title="Permalink to this definition">¶</a></dt>
<dd><p>Tkinter StringVar that captures the user-selected duration
(ms) for which rewards rewards are delivered once the
handle is successfully pulled into the reward zone.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>instance</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="reachmaster.settings.experiment_settings.ExperimentSettings.max_rewards">
<code class="sig-name descname">max_rewards</code><a class="headerlink" href="#reachmaster.settings.experiment_settings.ExperimentSettings.max_rewards" title="Permalink to this definition">¶</a></dt>
<dd><p>Tkinter StringVar that captures the user-selected maximum
number of rewards (int) delivered for a successful reach.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>instance</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="reachmaster.settings.experiment_settings.ExperimentSettings.solenoid_open_dur">
<code class="sig-name descname">solenoid_open_dur</code><a class="headerlink" href="#reachmaster.settings.experiment_settings.ExperimentSettings.solenoid_open_dur" title="Permalink to this definition">¶</a></dt>
<dd><p>Tkinter StringVar that captures the user-selected solenoid
open duration (ms) which sets the individual reward size.
Solenoid calibration must be performed to get the mapping
from duration (ms) to volulme (mL).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>instance</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="reachmaster.settings.experiment_settings.ExperimentSettings.solenoid_bounce_dur">
<code class="sig-name descname">solenoid_bounce_dur</code><a class="headerlink" href="#reachmaster.settings.experiment_settings.ExperimentSettings.solenoid_bounce_dur" title="Permalink to this definition">¶</a></dt>
<dd><p>Tkinter StringVar that captures the user-selected minimum
duration (ms) the solenoid should remain closed between
reward deliveries. Note the redundancy with <cite>reward_win_dur</cite>
and <cite>max_rewards</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>instance</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="reachmaster.settings.experiment_settings.ExperimentSettings.flush_dur">
<code class="sig-name descname">flush_dur</code><a class="headerlink" href="#reachmaster.settings.experiment_settings.ExperimentSettings.flush_dur" title="Permalink to this definition">¶</a></dt>
<dd><p>Tkinter StringVar that captures the user-selected duration
(ms) the solenoid should remain open while flushing the
lines.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>instance</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="reachmaster.settings.experiment_settings.ExperimentSettings.reach_delay">
<code class="sig-name descname">reach_delay</code><a class="headerlink" href="#reachmaster.settings.experiment_settings.ExperimentSettings.reach_delay" title="Permalink to this definition">¶</a></dt>
<dd><p>Tkinter StringVar that captures the user-selected minimum
duration animals are required to wait before attempting a
reach after a trial is initiated when <cite>protocol type</cite> is
‘TRIALS’. Once the lights turn on, if a reach is attempted
before the end of the delay, the trial is haulted and the
lights are turned off. This enforces a timeout period to
discourage animals from performing reaches between trials.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>instance</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="reachmaster.settings.experiment_settings.ExperimentSettings.on_quit">
<code class="sig-name descname">on_quit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/settings/experiment_settings.html#ExperimentSettings.on_quit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.settings.experiment_settings.ExperimentSettings.on_quit" title="Permalink to this definition">¶</a></dt>
<dd><p>Called prior to destruction of the experiment settings window.</p>
<p>Prior to destruction, the configuration file must be updated
to reflect the change in settings.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="robot-settings">
<h2>Robot Settings<a class="headerlink" href="#robot-settings" title="Permalink to this headline">¶</a></h2>
<img alt="../../_images/robot_settings.png" class="align-center" src="../../_images/robot_settings.png" />
<span class="target" id="module-reachmaster.settings.robot_settings"></span><p>The robot settings window is opened as a child of the
ReachMaster root application. It allows the user to set any
parameters located on the robot microcontroller (e.g.,
position smoothing, valve periods etc.), or having to do
with the robot kinematics. It provides options for the user
to select previously generated calibration and position
command files. Soon it will allow users to run a robot
calibration from within the ReachMaster application.</p>
<div class="admonition-todo admonition" id="id3">
<p class="admonition-title">Todo</p>
<ul class="simple">
<li><p>Add labels to specify the microcontroller/kinematics parameters</p></li>
<li><p>Run calibration callback</p></li>
<li><p>Re-add load calibration callback?</p></li>
<li><p>Automate unit tests</p></li>
</ul>
</div>
<dl class="class">
<dt id="reachmaster.settings.robot_settings.RobotSettings">
<em class="property">class </em><code class="sig-prename descclassname">reachmaster.settings.robot_settings.</code><code class="sig-name descname">RobotSettings</code><span class="sig-paren">(</span><em class="sig-param">parent</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/settings/robot_settings.html#RobotSettings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.settings.robot_settings.RobotSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>The primary class for the robot settings window.</p>
<p>Configures and provides window callback methods. Also provides
methods to . The
<cite>on_quit()</cite> method is called prior to application destruction.</p>
<dl class="attribute">
<dt id="reachmaster.settings.robot_settings.RobotSettings.config">
<code class="sig-name descname">config</code><a class="headerlink" href="#reachmaster.settings.robot_settings.RobotSettings.config" title="Permalink to this definition">¶</a></dt>
<dd><p>The current configuration settings for the application</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="reachmaster.settings.robot_settings.RobotSettings.pos_smoothing">
<code class="sig-name descname">pos_smoothing</code><a class="headerlink" href="#reachmaster.settings.robot_settings.RobotSettings.pos_smoothing" title="Permalink to this definition">¶</a></dt>
<dd><p>Tkinter StringVar that captures the user-selected position
smoothing parameter (0-1, 0 less smoothing).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>instance</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="reachmaster.settings.robot_settings.RobotSettings.tol">
<code class="sig-name descname">tol</code><a class="headerlink" href="#reachmaster.settings.robot_settings.RobotSettings.tol" title="Permalink to this definition">¶</a></dt>
<dd><p>Tkinter StringVar that captures the user-selected tolerance
(bits) for accepting robot convergence to the command
position. (i.e., the L2-norm of the potentiometer readings
must be less than tol).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>instance</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="reachmaster.settings.robot_settings.RobotSettings.period">
<code class="sig-name descname">period</code><a class="headerlink" href="#reachmaster.settings.robot_settings.RobotSettings.period" title="Permalink to this definition">¶</a></dt>
<dd><p>Tkinter StringVar that captures the user-selected valve
period (us). Equivalent to pulse width modulation (PWM)
period.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>instance</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="reachmaster.settings.robot_settings.RobotSettings.off_dur">
<code class="sig-name descname">off_dur</code><a class="headerlink" href="#reachmaster.settings.robot_settings.RobotSettings.off_dur" title="Permalink to this definition">¶</a></dt>
<dd><p>Tkinter StringVar that captures the user-selected minimum
off duration (ms) that is enforced between convergence
times. Once the robot converges to a command position, it
will not move to a new command position for this duration.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>instance</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="reachmaster.settings.robot_settings.RobotSettings.num_tol">
<code class="sig-name descname">num_tol</code><a class="headerlink" href="#reachmaster.settings.robot_settings.RobotSettings.num_tol" title="Permalink to this definition">¶</a></dt>
<dd><p>Tkinter StringVar that captures the user-selected number of
consecutive periods the robot must be within convergence in
order to be considered “in position”.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>instance</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt>
<code class="sig-name descname">(x/y/z)_(push/pull)_wt</code></dt>
<dd><p>Tkinter StringVar that captures the user-selected weighting
coefficient placed on the <cite>x/y/z</cite> actuator in the
<cite>push/pull</cite> direction. Acts as a gain on the calibration
coefficients. Typically defaults to 1 for a good
calibration, but gives the user an option to make quick
manual adjustments without runnning an entirely new
calibration. Not used very often in practice.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>instance</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="reachmaster.settings.robot_settings.RobotSettings.rew_zone_x">
<code class="sig-name descname">rew_zone_x</code><a class="headerlink" href="#reachmaster.settings.robot_settings.RobotSettings.rew_zone_x" title="Permalink to this definition">¶</a></dt>
<dd><p>Tkinter StringVar that captures the user-selected minimum
<cite>x</cite> position (bits) the handle must cross in order to enter
the reward zone.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>instance</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="reachmaster.settings.robot_settings.RobotSettings.rew_zone_">
<code class="sig-name descname">rew_zone_</code><span class="sig-paren">(</span><em class="sig-param">y/z)_(min/max</em><span class="sig-paren">)</span><a class="headerlink" href="#reachmaster.settings.robot_settings.RobotSettings.rew_zone_" title="Permalink to this definition">¶</a></dt>
<dd><p>Tkinter StringVar that captures the user-selected min/max
<cite>x/z</cite> positions (bits) the handle must be within in order to
be located in the reward zone. Conditions must be satisfied
on all actuators simultaneously.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>instance</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="reachmaster.settings.robot_settings.RobotSettings.calibration_file">
<code class="sig-name descname">calibration_file</code><a class="headerlink" href="#reachmaster.settings.robot_settings.RobotSettings.calibration_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Tkinter StringVar that captures the user-selected robot
calibration file.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>instance</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="reachmaster.settings.robot_settings.RobotSettings.command_file">
<code class="sig-name descname">command_file</code><a class="headerlink" href="#reachmaster.settings.robot_settings.RobotSettings.command_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Tkinter StringVar that captures the user-selected position
command file.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>instance</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="reachmaster.settings.robot_settings.RobotSettings.command_type">
<code class="sig-name descname">command_type</code><a class="headerlink" href="#reachmaster.settings.robot_settings.RobotSettings.command_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Tkinter StringVar that captures the user-selected option
determining how commands are generated. Can be
‘read_from_file’, ‘sample_from_file’, or ‘parametric_sample’.
‘read_from_file’ takes the commands directly from the command
file. ‘sample_from_file’ generates a sequence of commands by
sampling from the command file with replacement.
‘parametric_sample’ does not use the command file. Rather, it
samples commands uniformly from the <cite>reach volume</cite> determined
by user-selected inverse kinematics parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>instance</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt>
<code class="sig-name descname">(y/z)gimbal_to_joint</code></dt>
<dd><p>Tkinter StringVar that captures the user-measured
center-to-center distance (mm) from an y/z gimbal to its
respective spherical joint (link to hardware page).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>instance</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt>
<code class="sig-name descname">(x/y/z)gimbal_(x/y/z)offset</code></dt>
<dd><p>Tkinter StringVar that captures the user-measured offset (mm)
of the (x/y/z) gimbal from the origin in the (x/y/z)
direction.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>instance</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt>
<code class="sig-name descname">(x/y/z)_origin</code></dt>
<dd><p>Tkinter StringVar that captures the user-measured (x/y/z)
position (bits) of the origin.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>instance</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="reachmaster.settings.robot_settings.RobotSettings.reach_dist_">
<code class="sig-name descname">reach_dist_</code><span class="sig-paren">(</span><em class="sig-param">min/max</em><span class="sig-paren">)</span><a class="headerlink" href="#reachmaster.settings.robot_settings.RobotSettings.reach_dist_" title="Permalink to this definition">¶</a></dt>
<dd><p>Tkinter StringVar that captures the user-specified (min/max)
reach distance of the <cite>reach volume</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>instance</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="reachmaster.settings.robot_settings.RobotSettings.reach_angle_max">
<code class="sig-name descname">reach_angle_max</code><a class="headerlink" href="#reachmaster.settings.robot_settings.RobotSettings.reach_angle_max" title="Permalink to this definition">¶</a></dt>
<dd><p>Tkinter StringVar that captures the user-specified max reach
angle (rad) of the <cite>reach volume</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>instance</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="reachmaster.settings.robot_settings.RobotSettings.calibration_browse_callback">
<code class="sig-name descname">calibration_browse_callback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/settings/robot_settings.html#RobotSettings.calibration_browse_callback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.settings.robot_settings.RobotSettings.calibration_browse_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows the user to select a calibration file to be loaded to the
robot microcontroller.</p>
</dd></dl>

<dl class="method">
<dt id="reachmaster.settings.robot_settings.RobotSettings.command_browse_callback">
<code class="sig-name descname">command_browse_callback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/settings/robot_settings.html#RobotSettings.command_browse_callback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.settings.robot_settings.RobotSettings.command_browse_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows the user to select a position command file to be loaded
to the robot microcontroller.</p>
</dd></dl>

<dl class="method">
<dt id="reachmaster.settings.robot_settings.RobotSettings.on_quit">
<code class="sig-name descname">on_quit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/settings/robot_settings.html#RobotSettings.on_quit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.settings.robot_settings.RobotSettings.on_quit" title="Permalink to this definition">¶</a></dt>
<dd><p>Called prior to destruction of the robot settings window.</p>
<p>Prior to destruction, the configuration file must be updated
to reflect the change in settings.</p>
</dd></dl>

<dl class="method">
<dt id="reachmaster.settings.robot_settings.RobotSettings.run_calibration_callback">
<code class="sig-name descname">run_calibration_callback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/settings/robot_settings.html#RobotSettings.run_calibration_callback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.settings.robot_settings.RobotSettings.run_calibration_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Not yet implented. Should load the robot calibration script to
the robot microcontroller along with any relevant arguments, and
run the calibration.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="protocols">
<h2>Protocols<a class="headerlink" href="#protocols" title="Permalink to this headline">¶</a></h2>
<img alt="../../_images/protocol_window.png" class="align-center" src="../../_images/protocol_window.png" />
</div>
<div class="section" id="module-reachmaster.interfaces.camera_interface">
<span id="camera-interface"></span><h2>Camera Interface<a class="headerlink" href="#module-reachmaster.interfaces.camera_interface" title="Permalink to this headline">¶</a></h2>
<p>This module provides a set of functions for interfacing
with multiple Ximea machine vision USB3.0 cameras via the
Ximea API. It provides functions start/stop the cameras
using the user-selected settings, and to get images from
the cameras.</p>
<div class="admonition-todo admonition" id="id4">
<p class="admonition-title">Todo</p>
<ul class="simple">
<li><p>Object orient</p></li>
<li><p>GPU-accelerated video encoding</p></li>
<li><p>Automate unit tests</p></li>
</ul>
</div>
<dl class="function">
<dt id="reachmaster.interfaces.camera_interface.get_npimage">
<code class="sig-prename descclassname">reachmaster.interfaces.camera_interface.</code><code class="sig-name descname">get_npimage</code><span class="sig-paren">(</span><em class="sig-param">cam</em>, <em class="sig-param">img</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/interfaces/camera_interface.html#get_npimage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.interfaces.camera_interface.get_npimage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the most recent image from a camera as a numpy
array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cam</strong> (<em>ximea.xiapi.Camera</em>) – A ximea api Camera object.</p></li>
<li><p><strong>img</strong> (<em>ximea.xiapi.Image</em>) – A ximea api Image container object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>npimg</strong> – The most recently acquired image from the camera
as a numpy array.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="reachmaster.interfaces.camera_interface.init_image">
<code class="sig-prename descclassname">reachmaster.interfaces.camera_interface.</code><code class="sig-name descname">init_image</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/interfaces/camera_interface.html#init_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.interfaces.camera_interface.init_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a ximea container object to store images.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>img</strong> – A ximea api Image container object</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>ximea.xiapi.Image</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="reachmaster.interfaces.camera_interface.start_interface">
<code class="sig-prename descclassname">reachmaster.interfaces.camera_interface.</code><code class="sig-name descname">start_interface</code><span class="sig-paren">(</span><em class="sig-param">config</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/interfaces/camera_interface.html#start_interface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.interfaces.camera_interface.start_interface" title="Permalink to this definition">¶</a></dt>
<dd><p>Open all cameras, loads user-selected settings, and
starts image acquisition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> (<em>dict</em>) – The currently loaded configuration file.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>cams</strong> – A list of ximea api Camera objects.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="reachmaster.interfaces.camera_interface.stop_interface">
<code class="sig-prename descclassname">reachmaster.interfaces.camera_interface.</code><code class="sig-name descname">stop_interface</code><span class="sig-paren">(</span><em class="sig-param">cams</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/interfaces/camera_interface.html#stop_interface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.interfaces.camera_interface.stop_interface" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop image acquisition and close all cameras.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cams</strong> (<em>list</em>) – A list of ximea api Camera objects.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-reachmaster.interfaces.experiment_interface">
<span id="experiment-interface"></span><h2>Experiment Interface<a class="headerlink" href="#module-reachmaster.interfaces.experiment_interface" title="Permalink to this headline">¶</a></h2>
<p>This module provides a set of functions for interfacing
with the experiment microcontroller. It provides functions
to recognize and establish serial connections to the
controller, read/write settings, exectute common callbacks,
and read/write custom messages.</p>
<div class="admonition-todo admonition" id="id5">
<p class="admonition-title">Todo</p>
<ul class="simple">
<li><p>Object orient</p></li>
<li><p>Automate unit tests</p></li>
</ul>
</div>
<dl class="function">
<dt id="reachmaster.interfaces.experiment_interface.deliver_water">
<code class="sig-prename descclassname">reachmaster.interfaces.experiment_interface.</code><code class="sig-name descname">deliver_water</code><span class="sig-paren">(</span><em class="sig-param">exp_controller</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/interfaces/experiment_interface.html#deliver_water"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.interfaces.experiment_interface.deliver_water" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a message to experiment controller to open the
reward solenoid for the user-selected duration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>exp_controller</strong> (<em>serial.serialposix.Serial</em>) – The serial interface to the experiment controller.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="reachmaster.interfaces.experiment_interface.flush_water">
<code class="sig-prename descclassname">reachmaster.interfaces.experiment_interface.</code><code class="sig-name descname">flush_water</code><span class="sig-paren">(</span><em class="sig-param">exp_controller</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/interfaces/experiment_interface.html#flush_water"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.interfaces.experiment_interface.flush_water" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a message to experiment controller to opens the
reward solenoid for the flush user-selected flush
duration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>exp_controller</strong> (<em>serial.serialposix.Serial</em>) – The serial interface to the experiment controller.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="reachmaster.interfaces.experiment_interface.get_ports">
<code class="sig-prename descclassname">reachmaster.interfaces.experiment_interface.</code><code class="sig-name descname">get_ports</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/interfaces/experiment_interface.html#get_ports"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.interfaces.experiment_interface.get_ports" title="Permalink to this definition">¶</a></dt>
<dd><p>List all serial port with connected devices.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>port_list</strong> – Names of all the serial ports with connected devices.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list(str)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="reachmaster.interfaces.experiment_interface.move_robot">
<code class="sig-prename descclassname">reachmaster.interfaces.experiment_interface.</code><code class="sig-name descname">move_robot</code><span class="sig-paren">(</span><em class="sig-param">exp_controller</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/interfaces/experiment_interface.html#move_robot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.interfaces.experiment_interface.move_robot" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a message to experiment controller to command the
robot to move to the next position in its command
sequence.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>exp_controller</strong> (<em>serial.serialposix.Serial</em>) – The serial interface to the experiment controller.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="reachmaster.interfaces.experiment_interface.read_response">
<code class="sig-prename descclassname">reachmaster.interfaces.experiment_interface.</code><code class="sig-name descname">read_response</code><span class="sig-paren">(</span><em class="sig-param">exp_controller</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/interfaces/experiment_interface.html#read_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.interfaces.experiment_interface.read_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a line of data from the experiment controller
in response to the most recently written message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>exp_controller</strong> (<em>serial.serialposix.Serial</em>) – The serial interface to the experiment controller.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>response</strong> – The line of data received from the experiment
controller in response to the most recently
written message.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="reachmaster.interfaces.experiment_interface.set_exp_controller">
<code class="sig-prename descclassname">reachmaster.interfaces.experiment_interface.</code><code class="sig-name descname">set_exp_controller</code><span class="sig-paren">(</span><em class="sig-param">exp_controller</em>, <em class="sig-param">config</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/interfaces/experiment_interface.html#set_exp_controller"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.interfaces.experiment_interface.set_exp_controller" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the experiment settings to the experiment controller.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exp_controller</strong> (<em>serial.serialposix.Serial</em>) – The serial interface to the experiment controller.</p></li>
<li><p><strong>config</strong> (<em>dict</em>) – The currently loaded configuration file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="reachmaster.interfaces.experiment_interface.start_experiment">
<code class="sig-prename descclassname">reachmaster.interfaces.experiment_interface.</code><code class="sig-name descname">start_experiment</code><span class="sig-paren">(</span><em class="sig-param">exp_controller</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/interfaces/experiment_interface.html#start_experiment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.interfaces.experiment_interface.start_experiment" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a message to experiment controller to begin
executing an experiment protocol.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>exp_controller</strong> (<em>serial.serialposix.Serial</em>) – The serial interface to the experiment controller.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>response</strong> – The first line of data received from the
experiment controller verifying that the protocol
has been initiated.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="reachmaster.interfaces.experiment_interface.start_interface">
<code class="sig-prename descclassname">reachmaster.interfaces.experiment_interface.</code><code class="sig-name descname">start_interface</code><span class="sig-paren">(</span><em class="sig-param">config</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/interfaces/experiment_interface.html#start_interface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.interfaces.experiment_interface.start_interface" title="Permalink to this definition">¶</a></dt>
<dd><p>Establish a serial connection with the experiment
controller.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> (<em>dict</em>) – The currently loaded configuration file.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>exp_controller</strong> – The serial interface to the experiment controller.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>serial.serialposix.Serial</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="reachmaster.interfaces.experiment_interface.stop_interface">
<code class="sig-prename descclassname">reachmaster.interfaces.experiment_interface.</code><code class="sig-name descname">stop_interface</code><span class="sig-paren">(</span><em class="sig-param">exp_controller</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/interfaces/experiment_interface.html#stop_interface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.interfaces.experiment_interface.stop_interface" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a soft reboot of the experiment controller
and close the serial connection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>exp_controller</strong> (<em>serial.serialposix.Serial</em>) – The serial interface to the experiment controller.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="reachmaster.interfaces.experiment_interface.toggle_led">
<code class="sig-prename descclassname">reachmaster.interfaces.experiment_interface.</code><code class="sig-name descname">toggle_led</code><span class="sig-paren">(</span><em class="sig-param">exp_controller</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/interfaces/experiment_interface.html#toggle_led"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.interfaces.experiment_interface.toggle_led" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a message to experiment controller to toggle the
LED located on the robot handle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>exp_controller</strong> (<em>serial.serialposix.Serial</em>) – The serial interface to the experiment controller.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="reachmaster.interfaces.experiment_interface.toggle_lights">
<code class="sig-prename descclassname">reachmaster.interfaces.experiment_interface.</code><code class="sig-name descname">toggle_lights</code><span class="sig-paren">(</span><em class="sig-param">exp_controller</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/interfaces/experiment_interface.html#toggle_lights"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.interfaces.experiment_interface.toggle_lights" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a message to experiment controller to toggle the
neopixel lights.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>exp_controller</strong> (<em>serial.serialposix.Serial</em>) – The serial interface to the experiment controller.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="reachmaster.interfaces.experiment_interface.trigger_image">
<code class="sig-prename descclassname">reachmaster.interfaces.experiment_interface.</code><code class="sig-name descname">trigger_image</code><span class="sig-paren">(</span><em class="sig-param">exp_controller</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/interfaces/experiment_interface.html#trigger_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.interfaces.experiment_interface.trigger_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a message to experiment controller to trigger the
cameras to capture an image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>exp_controller</strong> (<em>serial.serialposix.Serial</em>) – The serial interface to the experiment controller.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="reachmaster.interfaces.experiment_interface.write_message">
<code class="sig-prename descclassname">reachmaster.interfaces.experiment_interface.</code><code class="sig-name descname">write_message</code><span class="sig-paren">(</span><em class="sig-param">exp_controller</em>, <em class="sig-param">message</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/interfaces/experiment_interface.html#write_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.interfaces.experiment_interface.write_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a line of data from the experiment controller
in response to the most recently written message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exp_controller</strong> (<em>serial.serialposix.Serial</em>) – The serial interface to the experiment controller.</p></li>
<li><p><strong>message</strong> (<em>str</em>) – A string that is recognizeable by the experiment
controller.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-reachmaster.interfaces.robot_interface">
<span id="robot-interface"></span><h2>Robot Interface<a class="headerlink" href="#module-reachmaster.interfaces.robot_interface" title="Permalink to this headline">¶</a></h2>
<p>Module that provides a set of functions for interfacing
with the robot microcontroller. It provides functions to
recognize and establish serial connections to the
controller, read/write settings, calibration and command
files.</p>
<div class="admonition-todo admonition" id="id6">
<p class="admonition-title">Todo</p>
<ul class="simple">
<li><p>Object orient</p></li>
<li><p>Automate unit tests</p></li>
</ul>
</div>
<dl class="function">
<dt id="reachmaster.interfaces.robot_interface.get_ports">
<code class="sig-prename descclassname">reachmaster.interfaces.robot_interface.</code><code class="sig-name descname">get_ports</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/interfaces/robot_interface.html#get_ports"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.interfaces.robot_interface.get_ports" title="Permalink to this definition">¶</a></dt>
<dd><p>List all serial port with connected devices.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>port_list</strong> – Names of all the serial ports with connected devices.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list(str)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="reachmaster.interfaces.robot_interface.load_config_calibration">
<code class="sig-prename descclassname">reachmaster.interfaces.robot_interface.</code><code class="sig-name descname">load_config_calibration</code><span class="sig-paren">(</span><em class="sig-param">rob_controller</em>, <em class="sig-param">config</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/interfaces/robot_interface.html#load_config_calibration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.interfaces.robot_interface.load_config_calibration" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the calibration parameters to the robot controller.</p>
<p>Uses the calibration file selected in the configuration
file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rob_controller</strong> (<em>serial.serialposix.Serial</em>) – The serial interface to the robot controller.</p></li>
<li><p><strong>config</strong> (<em>dict</em>) – The currently loaded configuration file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="reachmaster.interfaces.robot_interface.load_config_commands">
<code class="sig-prename descclassname">reachmaster.interfaces.robot_interface.</code><code class="sig-name descname">load_config_commands</code><span class="sig-paren">(</span><em class="sig-param">rob_controller</em>, <em class="sig-param">config</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/interfaces/robot_interface.html#load_config_commands"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.interfaces.robot_interface.load_config_commands" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the position commands to the robot controller.</p>
<p>Uses the method determined by the command type
selected in the configuration file. Currently, the
options are <cite>read_from_file</cite>, <cite>sample_from_file</cite>, or
<cite>parametric_sample</cite>. <cite>read_from_file</cite> takes the
commands directly from the command file.
<cite>sample_from_file</cite> generates a sequence of commands by
sampling rows from the command file with replacement.
For both of these options, the command file is assumed
to have three columns ordered as <cite>reach distance</cite>,
<cite>azimuth’, `elevation</cite>. <cite>parametric_sample</cite> does not
use the command file. Rather, it samples commands
uniformly from the <cite>reach volume</cite> determined by the
user-selected inverse kinematics parameters.</p>
<div class="admonition-todo admonition" id="id7">
<p class="admonition-title">Todo</p>
<ul class="simple">
<li><p>Further functionalize for better clarity.</p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rob_controller</strong> (<em>serial.serialposix.Serial</em>) – The serial interface to the robot controller.</p></li>
<li><p><strong>config</strong> (<em>dict</em>) – The currently loaded configuration file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>config</strong> – The configuration file possibly updated to include
the command values that were loaded.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="reachmaster.interfaces.robot_interface.set_rob_controller">
<code class="sig-prename descclassname">reachmaster.interfaces.robot_interface.</code><code class="sig-name descname">set_rob_controller</code><span class="sig-paren">(</span><em class="sig-param">rob_controller</em>, <em class="sig-param">config</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/interfaces/robot_interface.html#set_rob_controller"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.interfaces.robot_interface.set_rob_controller" title="Permalink to this definition">¶</a></dt>
<dd><p>Load all the robot settings to the robot controller.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rob_controller</strong> (<em>serial.serialposix.Serial</em>) – The serial interface to the robot controller.</p></li>
<li><p><strong>config</strong> (<em>dict</em>) – The currently loaded configuration file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>config</strong> – The configuration file possibly updated to include
the command values that were loaded.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="reachmaster.interfaces.robot_interface.start_interface">
<code class="sig-prename descclassname">reachmaster.interfaces.robot_interface.</code><code class="sig-name descname">start_interface</code><span class="sig-paren">(</span><em class="sig-param">config</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/interfaces/robot_interface.html#start_interface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.interfaces.robot_interface.start_interface" title="Permalink to this definition">¶</a></dt>
<dd><p>Establish a serial connection with the robot
controller.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> (<em>dict</em>) – The currently loaded configuration file.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>rob_controller</strong> – The serial interface to the robot controller.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>serial.serialposix.Serial</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="reachmaster.interfaces.robot_interface.stop_interface">
<code class="sig-prename descclassname">reachmaster.interfaces.robot_interface.</code><code class="sig-name descname">stop_interface</code><span class="sig-paren">(</span><em class="sig-param">rob_controller</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/interfaces/robot_interface.html#stop_interface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.interfaces.robot_interface.stop_interface" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a soft reboot of the robot controller
and close the serial connection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>rob_controller</strong> (<em>serial.serialposix.Serial</em>) – The serial interface to the robot controller.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-reachmaster.config">
<span id="configuration-files"></span><h2>Configuration Files<a class="headerlink" href="#module-reachmaster.config" title="Permalink to this headline">¶</a></h2>
<p>Module for working with configuration files.</p>
<p>Configurations files are json files that store all the settings
used in a ReachMaster session. Functions are provided to
generate default configuration files, as well as to save and
load previous configurations. This encourages persistence of
settings across experiments.</p>
<dl class="function">
<dt id="reachmaster.config.default_config">
<code class="sig-prename descclassname">reachmaster.config.</code><code class="sig-name descname">default_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/config.html#default_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.config.default_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a configuration populated with sensible defaults.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A default configuration.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="reachmaster.config.save_config">
<code class="sig-prename descclassname">reachmaster.config.</code><code class="sig-name descname">save_config</code><span class="sig-paren">(</span><em class="sig-param">config</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/config.html#save_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.config.save_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a configuration file.</p>
<p>This is typically called upon closing application if the
user responds yes to the save prompt. The configuration is
given the current datetime as a name and saved to a json
in the config folder of the user-selected data output
directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> (<em>dict</em>) – The currently loaded configuration.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="reachmaster.config.load_config">
<code class="sig-prename descclassname">reachmaster.config.</code><code class="sig-name descname">load_config</code><span class="sig-paren">(</span><em class="sig-param">file_handle</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/config.html#load_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.config.load_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a configuration file.</p>
<p>File typically selected by user from the configuration
browser in the root ReachMaster application window.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file_handle</strong> (<em>file</em>) – An open, previously saved json configuration file.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A default configuration.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="reachmaster.config.save_tmp">
<code class="sig-prename descclassname">reachmaster.config.</code><code class="sig-name descname">save_tmp</code><span class="sig-paren">(</span><em class="sig-param">config</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/reachmaster/config.html#save_tmp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#reachmaster.config.save_tmp" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the configuration to a temp file.</p>
<p>The global state of ReachMaster is tracked with a temp
file. Whenever a child window of the main application is
created or destroyed, the temp file is updated to reflect
whatever changes in settings may have occurred. If the
user forgets to save the configuration file at the end of
a session, the temp file can be used as a backup. It is
saved to the temp folder in the ReachMaster root directory.
<strong>Warning: temp file is reset to defaults as a new session
is started!</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> (<em>dict</em>) – The currently loaded configuration.</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/splinter.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../../index.html">ReachMaster</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hardware/hardware.html">Hardware</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../software.html">Software</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">ReachMaster User Interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#root-application-window">Root Application Window</a></li>
<li class="toctree-l3"><a class="reference internal" href="#camera-settings">Camera Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiment-settings">Experiment Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#robot-settings">Robot Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#protocols">Protocols</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-reachmaster.interfaces.camera_interface">Camera Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-reachmaster.interfaces.experiment_interface">Experiment Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-reachmaster.interfaces.robot_interface">Robot Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-reachmaster.config">Configuration Files</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../wrangling_preprocessing/wrangling_preprocessing.html">Data Wrangling and Preprocessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rig_controllers/rig_controllers.html">Rig Controllers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../robot_calibration/robot_calibration.html">Robot Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../camera_calibration/camera_calibration.html">Camera Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../archived/archived.html">Archived</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../software.html">Software</a><ul>
      <li>Previous: <a href="../software.html" title="previous chapter">Software</a></li>
      <li>Next: <a href="../wrangling_preprocessing/wrangling_preprocessing.html" title="next chapter">Data Wrangling and Preprocessing</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;The Regents of the University of California, through Lawrence Berkeley National Laboratory.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/software/reach_master/reach_master.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>